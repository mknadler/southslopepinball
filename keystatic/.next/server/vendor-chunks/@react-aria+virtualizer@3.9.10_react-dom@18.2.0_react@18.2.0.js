"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@react-aria+virtualizer@3.9.10_react-dom@18.2.0_react@18.2.0";
exports.ids = ["vendor-chunks/@react-aria+virtualizer@3.9.10_react-dom@18.2.0_react@18.2.0"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@react-aria+virtualizer@3.9.10_react-dom@18.2.0_react@18.2.0/node_modules/@react-aria/virtualizer/dist/import.mjs":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@react-aria+virtualizer@3.9.10_react-dom@18.2.0_react@18.2.0/node_modules/@react-aria/virtualizer/dist/import.mjs ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScrollView: () => (/* binding */ $44a6ee657928b002$export$5665e3d6be6adea),\n/* harmony export */   Virtualizer: () => (/* binding */ $6d0a5c394373ae64$export$89be5a243e59c4b2),\n/* harmony export */   VirtualizerItem: () => (/* binding */ $ccf8a0a04e4175ae$export$6796df8ba7398521),\n/* harmony export */   getRTLOffsetType: () => (/* binding */ $ce415dc67314b753$export$faf7630257ad4304),\n/* harmony export */   getScrollLeft: () => (/* binding */ $ce415dc67314b753$export$1389d168952b34b5),\n/* harmony export */   layoutInfoToStyle: () => (/* binding */ $ccf8a0a04e4175ae$export$1481e64fbe01b8b3),\n/* harmony export */   setScrollLeft: () => (/* binding */ $ce415dc67314b753$export$ed5fd5ffe5ab0ac),\n/* harmony export */   useVirtualizer: () => (/* binding */ $6d0a5c394373ae64$export$dd6d526d88b5a137),\n/* harmony export */   useVirtualizerItem: () => (/* binding */ $47736c1e63ba1c6d$export$1da781778207e0a2)\n/* harmony export */ });\n/* harmony import */ var _react_aria_interactions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @react-aria/interactions */ \"(ssr)/./node_modules/.pnpm/@react-aria+interactions@3.21.1_react@18.2.0/node_modules/@react-aria/interactions/dist/import.mjs\");\n/* harmony import */ var _react_stately_virtualizer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @react-stately/virtualizer */ \"(ssr)/./node_modules/.pnpm/@react-stately+virtualizer@3.6.8_react@18.2.0/node_modules/@react-stately/virtualizer/dist/import.mjs\");\n/* harmony import */ var _react_aria_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @react-aria/utils */ \"(ssr)/./node_modules/.pnpm/@react-aria+utils@3.23.2_react@18.2.0/node_modules/@react-aria/utils/dist/import.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.2_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/.pnpm/next@14.2.2_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var _react_aria_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-aria/i18n */ \"(ssr)/./node_modules/.pnpm/@react-aria+i18n@3.10.2_react@18.2.0/node_modules/@react-aria/i18n/dist/real-module.mjs\");\n\n\n\n\n\n\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ /*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // @ts-ignore\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ let $ce415dc67314b753$var$cachedRTLResult = null;\nfunction $ce415dc67314b753$export$faf7630257ad4304(recalculate = false) {\n    if ($ce415dc67314b753$var$cachedRTLResult === null || recalculate) {\n        const outerDiv = document.createElement(\"div\");\n        const outerStyle = outerDiv.style;\n        outerStyle.width = \"50px\";\n        outerStyle.height = \"50px\";\n        outerStyle.overflow = \"scroll\";\n        outerStyle.direction = \"rtl\";\n        const innerDiv = document.createElement(\"div\");\n        const innerStyle = innerDiv.style;\n        innerStyle.width = \"100px\";\n        innerStyle.height = \"100px\";\n        outerDiv.appendChild(innerDiv);\n        document.body.appendChild(outerDiv);\n        if (outerDiv.scrollLeft > 0) $ce415dc67314b753$var$cachedRTLResult = \"positive-descending\";\n        else {\n            outerDiv.scrollLeft = 1;\n            if (outerDiv.scrollLeft === 0) $ce415dc67314b753$var$cachedRTLResult = \"negative\";\n            else $ce415dc67314b753$var$cachedRTLResult = \"positive-ascending\";\n        }\n        document.body.removeChild(outerDiv);\n        return $ce415dc67314b753$var$cachedRTLResult;\n    }\n    return $ce415dc67314b753$var$cachedRTLResult;\n}\nfunction $ce415dc67314b753$export$1389d168952b34b5(node, direction) {\n    let { scrollLeft: scrollLeft } = node;\n    // scrollLeft in rtl locales differs across browsers, so normalize.\n    // See comment by getRTLOffsetType below for details.\n    if (direction === \"rtl\") {\n        let { scrollWidth: scrollWidth, clientWidth: clientWidth } = node;\n        switch($ce415dc67314b753$export$faf7630257ad4304()){\n            case \"negative\":\n                scrollLeft = -scrollLeft;\n                break;\n            case \"positive-descending\":\n                scrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n        }\n    }\n    return scrollLeft;\n}\nfunction $ce415dc67314b753$export$ed5fd5ffe5ab0ac(node, direction, scrollLeft) {\n    if (direction === \"rtl\") switch($ce415dc67314b753$export$faf7630257ad4304()){\n        case \"negative\":\n            scrollLeft = -scrollLeft;\n            break;\n        case \"positive-ascending\":\n            break;\n        default:\n            {\n                const { clientWidth: clientWidth, scrollWidth: scrollWidth } = node;\n                scrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n    }\n    node.scrollLeft = scrollLeft;\n}\n\n\n\n\n\n\nlet $44a6ee657928b002$var$isOldReact = (0, react__WEBPACK_IMPORTED_MODULE_0__).version.startsWith(\"16.\") || (0, react__WEBPACK_IMPORTED_MODULE_0__).version.startsWith(\"17.\");\nfunction $44a6ee657928b002$var$ScrollView(props, ref) {\n    let { contentSize: contentSize, onVisibleRectChange: onVisibleRectChange, children: children, innerStyle: innerStyle, sizeToFit: sizeToFit, onScrollStart: onScrollStart, onScrollEnd: onScrollEnd, scrollDirection: scrollDirection = \"both\", ...otherProps } = props;\n    let defaultRef = (0, react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    ref = ref || defaultRef;\n    let state = (0, react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n        scrollTop: 0,\n        scrollLeft: 0,\n        scrollEndTime: 0,\n        scrollTimeout: null,\n        width: 0,\n        height: 0,\n        isScrolling: false\n    }).current;\n    let { direction: direction } = (0, _react_aria_i18n__WEBPACK_IMPORTED_MODULE_2__.useLocale)();\n    let [isScrolling, setScrolling] = (0, react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    let onScroll = (0, react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e)=>{\n        if (e.target !== e.currentTarget) return;\n        if (props.onScroll) props.onScroll(e);\n        (0, react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(()=>{\n            let scrollTop = e.currentTarget.scrollTop;\n            let scrollLeft = (0, $ce415dc67314b753$export$1389d168952b34b5)(e.currentTarget, direction);\n            // Prevent rubber band scrolling from shaking when scrolling out of bounds\n            state.scrollTop = Math.max(0, Math.min(scrollTop, contentSize.height - state.height));\n            state.scrollLeft = Math.max(0, Math.min(scrollLeft, contentSize.width - state.width));\n            onVisibleRectChange(new (0, _react_stately_virtualizer__WEBPACK_IMPORTED_MODULE_3__.Rect)(state.scrollLeft, state.scrollTop, state.width, state.height));\n            if (!state.isScrolling) {\n                state.isScrolling = true;\n                setScrolling(true);\n                if (onScrollStart) onScrollStart();\n            }\n            // So we don't constantly call clearTimeout and setTimeout,\n            // keep track of the current timeout time and only reschedule\n            // the timer when it is getting close.\n            let now = Date.now();\n            if (state.scrollEndTime <= now + 50) {\n                state.scrollEndTime = now + 300;\n                clearTimeout(state.scrollTimeout);\n                state.scrollTimeout = setTimeout(()=>{\n                    state.isScrolling = false;\n                    setScrolling(false);\n                    state.scrollTimeout = null;\n                    if (onScrollEnd) onScrollEnd();\n                }, 300);\n            }\n        });\n    }, [\n        props,\n        direction,\n        state,\n        contentSize,\n        onVisibleRectChange,\n        onScrollStart,\n        onScrollEnd\n    ]);\n    // eslint-disable-next-line arrow-body-style\n    (0, react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return ()=>{\n            clearTimeout(state.scrollTimeout);\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    let updateSize = (0, react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        let dom = ref.current;\n        if (!dom) return;\n        let w = dom.clientWidth;\n        let h = dom.clientHeight;\n        if (sizeToFit && contentSize.width > 0 && contentSize.height > 0) {\n            if (sizeToFit === \"width\") w = Math.min(w, contentSize.width);\n            else if (sizeToFit === \"height\") h = Math.min(h, contentSize.height);\n        }\n        if (state.width !== w || state.height !== h) {\n            state.width = w;\n            state.height = h;\n            onVisibleRectChange(new (0, _react_stately_virtualizer__WEBPACK_IMPORTED_MODULE_3__.Rect)(state.scrollLeft, state.scrollTop, w, h));\n        }\n    }, [\n        onVisibleRectChange,\n        ref,\n        state,\n        sizeToFit,\n        contentSize\n    ]);\n    (0, _react_aria_utils__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{\n        updateSize();\n    }, [\n        updateSize\n    ]);\n    let raf = (0, react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    let onResize = ()=>{\n        var _raf;\n        var _current;\n        if ($44a6ee657928b002$var$isOldReact) (_current = (_raf = raf).current) !== null && _current !== void 0 ? _current : _raf.current = requestAnimationFrame(()=>{\n            updateSize();\n            raf.current = null;\n        });\n        else updateSize();\n    };\n    (0, _react_aria_utils__WEBPACK_IMPORTED_MODULE_4__.useResizeObserver)({\n        ref: ref,\n        onResize: onResize\n    });\n    (0, react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return ()=>{\n            if (raf.current) cancelAnimationFrame(raf.current);\n        };\n    }, []);\n    let style = {\n        // Reset padding so that relative positioning works correctly. Padding will be done in JS layout.\n        padding: 0,\n        ...otherProps.style\n    };\n    if (scrollDirection === \"horizontal\") {\n        style.overflowX = \"auto\";\n        style.overflowY = \"hidden\";\n    } else if (scrollDirection === \"vertical\" || contentSize.width === state.width) {\n        // Set overflow-x: hidden if content size is equal to the width of the scroll view.\n        // This prevents horizontal scrollbars from flickering during resizing due to resize observer\n        // firing slower than the frame rate, which may cause an infinite re-render loop.\n        style.overflowY = \"auto\";\n        style.overflowX = \"hidden\";\n    } else style.overflow = \"auto\";\n    innerStyle = {\n        width: contentSize.width,\n        height: contentSize.height,\n        pointerEvents: isScrolling ? \"none\" : \"auto\",\n        position: \"relative\",\n        ...innerStyle\n    };\n    return /*#__PURE__*/ (0, react__WEBPACK_IMPORTED_MODULE_0__).createElement(\"div\", {\n        ...otherProps,\n        style: style,\n        ref: ref,\n        onScroll: onScroll\n    }, /*#__PURE__*/ (0, react__WEBPACK_IMPORTED_MODULE_0__).createElement(\"div\", {\n        role: \"presentation\",\n        style: innerStyle\n    }, children));\n}\nconst $44a6ee657928b002$export$5665e3d6be6adea = /*#__PURE__*/ (0, react__WEBPACK_IMPORTED_MODULE_0__).forwardRef($44a6ee657928b002$var$ScrollView);\n\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\nfunction $47736c1e63ba1c6d$export$1da781778207e0a2(options) {\n    let { layoutInfo: layoutInfo, virtualizer: virtualizer, ref: ref } = options;\n    let updateSize = (0, react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        let size = $47736c1e63ba1c6d$var$getSize(ref.current);\n        virtualizer.updateItemSize(layoutInfo.key, size);\n    }, [\n        virtualizer,\n        layoutInfo.key,\n        ref\n    ]);\n    (0, _react_aria_utils__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{\n        if (layoutInfo.estimatedSize) updateSize();\n    });\n    return {\n        updateSize: updateSize\n    };\n}\nfunction $47736c1e63ba1c6d$var$getSize(node) {\n    // Reset height before measuring so we get the intrinsic size\n    let height = node.style.height;\n    node.style.height = \"\";\n    let size = new (0, _react_stately_virtualizer__WEBPACK_IMPORTED_MODULE_3__.Size)(node.scrollWidth, node.scrollHeight);\n    node.style.height = height;\n    return size;\n}\n\n\nfunction $ccf8a0a04e4175ae$export$6796df8ba7398521(props) {\n    let { className: className, layoutInfo: layoutInfo, virtualizer: virtualizer, parent: parent, children: children } = props;\n    let { direction: direction } = (0, _react_aria_i18n__WEBPACK_IMPORTED_MODULE_2__.useLocale)();\n    let ref = (0, react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    (0, $47736c1e63ba1c6d$export$1da781778207e0a2)({\n        layoutInfo: layoutInfo,\n        virtualizer: virtualizer,\n        ref: ref\n    });\n    return /*#__PURE__*/ (0, react__WEBPACK_IMPORTED_MODULE_0__).createElement(\"div\", {\n        role: \"presentation\",\n        ref: ref,\n        className: className,\n        style: $ccf8a0a04e4175ae$export$1481e64fbe01b8b3(layoutInfo, direction, parent)\n    }, children);\n}\nlet $ccf8a0a04e4175ae$var$cache = new WeakMap();\nfunction $ccf8a0a04e4175ae$export$1481e64fbe01b8b3(layoutInfo, dir, parent) {\n    let xProperty = dir === \"rtl\" ? \"right\" : \"left\";\n    let cached = $ccf8a0a04e4175ae$var$cache.get(layoutInfo);\n    if (cached && cached[xProperty] != null) {\n        if (!parent) return cached;\n        // Invalidate if the parent position changed.\n        let top = layoutInfo.rect.y - parent.rect.y;\n        let x = layoutInfo.rect.x - parent.rect.x;\n        if (cached.top === top && cached[xProperty] === x) return cached;\n    }\n    let style = {\n        position: layoutInfo.isSticky ? \"sticky\" : \"absolute\",\n        // Sticky elements are positioned in normal document flow. Display inline-block so that they don't push other sticky columns onto the following rows.\n        display: layoutInfo.isSticky ? \"inline-block\" : undefined,\n        overflow: layoutInfo.allowOverflow ? \"visible\" : \"hidden\",\n        top: layoutInfo.rect.y - (parent ? parent.rect.y : 0),\n        [xProperty]: layoutInfo.rect.x - (parent ? parent.rect.x : 0),\n        transition: \"all\",\n        WebkitTransition: \"all\",\n        WebkitTransitionDuration: \"inherit\",\n        transitionDuration: \"inherit\",\n        width: layoutInfo.rect.width,\n        height: layoutInfo.rect.height,\n        opacity: layoutInfo.opacity,\n        zIndex: layoutInfo.zIndex,\n        transform: layoutInfo.transform,\n        contain: \"size layout style\"\n    };\n    $ccf8a0a04e4175ae$var$cache.set(layoutInfo, style);\n    return style;\n}\n\n\nfunction $6d0a5c394373ae64$var$Virtualizer(props, ref) {\n    let { children: renderView, renderWrapper: renderWrapper, layout: layout, collection: collection, sizeToFit: sizeToFit, scrollDirection: scrollDirection, transitionDuration: transitionDuration, isLoading: // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    isLoading, onLoadMore: // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    onLoadMore, focusedKey: // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    focusedKey, shouldUseVirtualFocus: // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    shouldUseVirtualFocus, scrollToItem: // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    scrollToItem, autoFocus: // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    autoFocus, ...otherProps } = props;\n    let fallbackRef = (0, react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    ref = ref || fallbackRef;\n    let state = (0, _react_stately_virtualizer__WEBPACK_IMPORTED_MODULE_3__.useVirtualizerState)({\n        transitionDuration: transitionDuration,\n        layout: layout,\n        collection: collection,\n        renderView: renderView,\n        renderWrapper: renderWrapper || $6d0a5c394373ae64$var$defaultRenderWrapper,\n        onVisibleRectChange (rect) {\n            ref.current.scrollLeft = rect.x;\n            ref.current.scrollTop = rect.y;\n        }\n    });\n    let { virtualizerProps: virtualizerProps, scrollViewProps: scrollViewProps } = $6d0a5c394373ae64$export$dd6d526d88b5a137(props, state, ref);\n    return /*#__PURE__*/ (0, react__WEBPACK_IMPORTED_MODULE_0__).createElement((0, $44a6ee657928b002$export$5665e3d6be6adea), {\n        ...(0, _react_aria_utils__WEBPACK_IMPORTED_MODULE_4__.mergeProps)(otherProps, virtualizerProps, scrollViewProps),\n        ref: ref,\n        innerStyle: state.isAnimating ? {\n            transition: `none ${state.virtualizer.transitionDuration}ms`\n        } : undefined,\n        contentSize: state.contentSize,\n        onScrollStart: state.startScrolling,\n        onScrollEnd: state.endScrolling,\n        sizeToFit: sizeToFit,\n        scrollDirection: scrollDirection\n    }, state.visibleViews);\n}\nfunction $6d0a5c394373ae64$export$dd6d526d88b5a137(props, state, ref) {\n    let { focusedKey: focusedKey, scrollToItem: scrollToItem, shouldUseVirtualFocus: shouldUseVirtualFocus, isLoading: isLoading, onLoadMore: onLoadMore } = props;\n    let { virtualizer: virtualizer } = state;\n    // Scroll to the focusedKey when it changes. Actually focusing the focusedKey\n    // is up to the implementation using Virtualizer since we don't have refs\n    // to all of the item DOM nodes.\n    let lastFocusedKey = (0, react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    let isFocusWithin = (0, react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    let autoFocus = (0, react__WEBPACK_IMPORTED_MODULE_0__.useRef)(props.autoFocus);\n    (0, react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (virtualizer.visibleRect.height === 0) return;\n        // Only scroll the focusedKey into view if the modality is not pointer to avoid jumps in position when clicking/pressing tall items.\n        let modality = (0, _react_aria_interactions__WEBPACK_IMPORTED_MODULE_5__.getInteractionModality)();\n        if (focusedKey !== lastFocusedKey.current && (modality !== \"pointer\" || autoFocus.current)) {\n            autoFocus.current = false;\n            if (scrollToItem) // If user provides scrolltoitem, then it is their responsibility to call scrollIntoViewport if desired\n            // since we don't know if their scrollToItem may take some time to actually bring the active element into the virtualizer's visible rect.\n            scrollToItem(focusedKey);\n            else virtualizer.scrollToItem(focusedKey, {\n                duration: 0\n            });\n        }\n        lastFocusedKey.current = focusedKey;\n    }, [\n        focusedKey,\n        virtualizer.visibleRect.height,\n        virtualizer,\n        lastFocusedKey,\n        scrollToItem,\n        ref\n    ]);\n    // Persist the focusedKey and prevent it from being removed from the DOM when scrolled out of view.\n    virtualizer.persistedKeys = (0, react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>focusedKey ? new Set([\n            focusedKey\n        ]) : new Set(), [\n        focusedKey\n    ]);\n    let onFocus = (0, react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e)=>{\n        // If the focused item is scrolled out of view and is not in the DOM, the collection\n        // will have tabIndex={0}. When tabbing in from outside, scroll the focused item into view.\n        // Ignore focus events that bubble through portals (e.g. focus that happens on a menu popover child of the virtualizer)\n        // Don't scroll focused key into view if modality is pointer to prevent sudden jump in position (e.g. CardView).\n        let modality = (0, _react_aria_interactions__WEBPACK_IMPORTED_MODULE_5__.getInteractionModality)();\n        if (!isFocusWithin.current && ref.current.contains(e.target) && modality !== \"pointer\") {\n            if (scrollToItem) scrollToItem(focusedKey);\n            else virtualizer.scrollToItem(focusedKey, {\n                duration: 0\n            });\n        }\n        isFocusWithin.current = e.target !== ref.current;\n    }, [\n        ref,\n        virtualizer,\n        focusedKey,\n        scrollToItem\n    ]);\n    let onBlur = (0, react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e)=>{\n        isFocusWithin.current = ref.current.contains(e.relatedTarget);\n    }, [\n        ref\n    ]);\n    // Set tabIndex to -1 if there is a focused key, otherwise 0 so that the collection\n    // itself is tabbable. When the collection receives focus, we scroll the focused item back into\n    // view, which will allow it to be properly focused. If using virtual focus, don't set a\n    // tabIndex at all so that VoiceOver on iOS 14 doesn't try to move real DOM focus to the element anyway.\n    let tabIndex;\n    if (!shouldUseVirtualFocus) {\n        // When there is no focusedKey the default tabIndex is 0. We include logic for empty collections too.\n        // For collections that are empty, but have a link in the empty children we want to skip focusing this\n        // and let focus move to the link similar to link moving to children.\n        tabIndex = focusedKey != null ? -1 : 0;\n        // If the collection is empty, we want the tabIndex provided from props (if any)\n        // so that we handle when tabbable items are added to the empty state.\n        if (virtualizer.collection.size === 0 && props.tabIndex != null) tabIndex = props.tabIndex;\n    }\n    // Handle scrolling, and call onLoadMore when nearing the bottom.\n    let isLoadingRef = (0, react__WEBPACK_IMPORTED_MODULE_0__.useRef)(isLoading);\n    let prevProps = (0, react__WEBPACK_IMPORTED_MODULE_0__.useRef)(props);\n    let onVisibleRectChange = (0, react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((rect)=>{\n        state.setVisibleRect(rect);\n        if (!isLoadingRef.current && onLoadMore) {\n            let scrollOffset = state.virtualizer.contentSize.height - rect.height * 2;\n            if (rect.y > scrollOffset) {\n                isLoadingRef.current = true;\n                onLoadMore();\n            }\n        }\n    }, [\n        onLoadMore,\n        state\n    ]);\n    let lastContentSize = (0, react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    (0, _react_aria_utils__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(()=>{\n        // If animating, wait until we're done.\n        if (state.isAnimating) return;\n        // Only update isLoadingRef if props object actually changed,\n        // not if a local state change occurred.\n        let wasLoading = isLoadingRef.current;\n        if (props !== prevProps.current) {\n            isLoadingRef.current = isLoading;\n            prevProps.current = props;\n        }\n        let shouldLoadMore = !isLoadingRef.current && onLoadMore && state.contentSize.height > 0 && state.contentSize.height <= state.virtualizer.visibleRect.height && (wasLoading || state.contentSize.height !== lastContentSize.current);\n        if (shouldLoadMore) {\n            isLoadingRef.current = true;\n            onLoadMore();\n        }\n        lastContentSize.current = state.contentSize.height;\n    }, [\n        state.contentSize,\n        state.isAnimating,\n        state.virtualizer,\n        isLoading,\n        onLoadMore,\n        props\n    ]);\n    return {\n        virtualizerProps: {\n            tabIndex: tabIndex,\n            onFocus: onFocus,\n            onBlur: onBlur\n        },\n        scrollViewProps: {\n            onVisibleRectChange: onVisibleRectChange\n        }\n    };\n}\n// forwardRef doesn't support generic parameters, so cast the result to the correct type\n// https://stackoverflow.com/questions/58469229/react-with-typescript-generics-while-using-react-forwardref\nconst $6d0a5c394373ae64$export$89be5a243e59c4b2 = /*#__PURE__*/ (0, react__WEBPACK_IMPORTED_MODULE_0__).forwardRef($6d0a5c394373ae64$var$Virtualizer);\nfunction $6d0a5c394373ae64$var$defaultRenderWrapper(parent, reusableView) {\n    return /*#__PURE__*/ (0, react__WEBPACK_IMPORTED_MODULE_0__).createElement((0, $ccf8a0a04e4175ae$export$6796df8ba7398521), {\n        key: reusableView.key,\n        layoutInfo: reusableView.layoutInfo,\n        virtualizer: reusableView.virtualizer,\n        parent: parent === null || parent === void 0 ? void 0 : parent.layoutInfo\n    }, reusableView.rendered);\n}\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlYWN0LWFyaWErdmlydHVhbGl6ZXJAMy45LjEwX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AcmVhY3QtYXJpYS92aXJ0dWFsaXplci9kaXN0L2ltcG9ydC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlHO0FBQ3NDO0FBQ3FCO0FBQzBCO0FBQzlIO0FBQ087O0FBRS9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHlCQUF5QjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFxRDtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFEQUFxRDtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQSwyQ0FBMkMsa0NBQVksbUNBQW1DLGtDQUFZO0FBQ3RHO0FBQ0EsVUFBVSx5UEFBeVA7QUFDblEseUJBQXlCLHlDQUFhO0FBQ3RDO0FBQ0Esb0JBQW9CLHlDQUFhO0FBQ2pDO0FBQ0E7QUFDQTtB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxrQ0FBWTtBQUNoRjtBQUNBLDZCQUE2QixrQ0FBWTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7Ozs7Ozs7O0FBUzRpQjtBQUM1aUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Aa2V5c3RhdGljL3RlbXBsYXRlcy1uZXh0anMvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlYWN0LWFyaWErdmlydHVhbGl6ZXJAMy45LjEwX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AcmVhY3QtYXJpYS92aXJ0dWFsaXplci9kaXN0L2ltcG9ydC5tanM/ODExMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dldEludGVyYWN0aW9uTW9kYWxpdHkgYXMgJGtTYVY1JGdldEludGVyYWN0aW9uTW9kYWxpdHl9IGZyb20gXCJAcmVhY3QtYXJpYS9pbnRlcmFjdGlvbnNcIjtcbmltcG9ydCB7dXNlVmlydHVhbGl6ZXJTdGF0ZSBhcyAka1NhVjUkdXNlVmlydHVhbGl6ZXJTdGF0ZSwgUmVjdCBhcyAka1NhVjUkUmVjdCwgU2l6ZSBhcyAka1NhVjUkU2l6ZX0gZnJvbSBcIkByZWFjdC1zdGF0ZWx5L3ZpcnR1YWxpemVyXCI7XG5pbXBvcnQge21lcmdlUHJvcHMgYXMgJGtTYVY1JG1lcmdlUHJvcHMsIHVzZUxheW91dEVmZmVjdCBhcyAka1NhVjUkdXNlTGF5b3V0RWZmZWN0LCB1c2VSZXNpemVPYnNlcnZlciBhcyAka1NhVjUkdXNlUmVzaXplT2JzZXJ2ZXJ9IGZyb20gXCJAcmVhY3QtYXJpYS91dGlsc1wiO1xuaW1wb3J0ICRrU2FWNSRyZWFjdCwge3VzZVJlZiBhcyAka1NhVjUkdXNlUmVmLCB1c2VFZmZlY3QgYXMgJGtTYVY1JHVzZUVmZmVjdCwgdXNlTWVtbyBhcyAka1NhVjUkdXNlTWVtbywgdXNlQ2FsbGJhY2sgYXMgJGtTYVY1JHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSBhcyAka1NhVjUkdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtmbHVzaFN5bmMgYXMgJGtTYVY1JGZsdXNoU3luY30gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHt1c2VMb2NhbGUgYXMgJGtTYVY1JHVzZUxvY2FsZX0gZnJvbSBcIkByZWFjdC1hcmlhL2kxOG5cIjtcblxuLypcbiAqIENvcHlyaWdodCAyMDIwIEFkb2JlLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBmaWxlIGlzIGxpY2Vuc2VkIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHlcbiAqIG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXJcbiAqIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIFJFUFJFU0VOVEFUSU9OU1xuICogT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlXG4gKiBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIC8qXG4gKiBDb3B5cmlnaHQgMjAyMCBBZG9iZS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgZmlsZSBpcyBsaWNlbnNlZCB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5XG4gKiBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyXG4gKiB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBSRVBSRVNFTlRBVElPTlNcbiAqIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZVxuICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBcblxuXG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBBZG9iZS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgZmlsZSBpcyBsaWNlbnNlZCB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5XG4gKiBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyXG4gKiB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBSRVBSRVNFTlRBVElPTlNcbiAqIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZVxuICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyAvLyBAdHMtaWdub3JlXG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBBZG9iZS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgZmlsZSBpcyBsaWNlbnNlZCB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5XG4gKiBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyXG4gKiB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBSRVBSRVNFTlRBVElPTlNcbiAqIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZVxuICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBsZXQgJGNlNDE1ZGM2NzMxNGI3NTMkdmFyJGNhY2hlZFJUTFJlc3VsdCA9IG51bGw7XG5mdW5jdGlvbiAkY2U0MTVkYzY3MzE0Yjc1MyRleHBvcnQkZmFmNzYzMDI1N2FkNDMwNChyZWNhbGN1bGF0ZSA9IGZhbHNlKSB7XG4gICAgaWYgKCRjZTQxNWRjNjczMTRiNzUzJHZhciRjYWNoZWRSVExSZXN1bHQgPT09IG51bGwgfHwgcmVjYWxjdWxhdGUpIHtcbiAgICAgICAgY29uc3Qgb3V0ZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBvdXRlclN0eWxlID0gb3V0ZXJEaXYuc3R5bGU7XG4gICAgICAgIG91dGVyU3R5bGUud2lkdGggPSBcIjUwcHhcIjtcbiAgICAgICAgb3V0ZXJTdHlsZS5oZWlnaHQgPSBcIjUwcHhcIjtcbiAgICAgICAgb3V0ZXJTdHlsZS5vdmVyZmxvdyA9IFwic2Nyb2xsXCI7XG4gICAgICAgIG91dGVyU3R5bGUuZGlyZWN0aW9uID0gXCJydGxcIjtcbiAgICAgICAgY29uc3QgaW5uZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBpbm5lclN0eWxlID0gaW5uZXJEaXYuc3R5bGU7XG4gICAgICAgIGlubmVyU3R5bGUud2lkdGggPSBcIjEwMHB4XCI7XG4gICAgICAgIGlubmVyU3R5bGUuaGVpZ2h0ID0gXCIxMDBweFwiO1xuICAgICAgICBvdXRlckRpdi5hcHBlbmRDaGlsZChpbm5lckRpdik7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXJEaXYpO1xuICAgICAgICBpZiAob3V0ZXJEaXYuc2Nyb2xsTGVmdCA+IDApICRjZTQxNWRjNjczMTRiNzUzJHZhciRjYWNoZWRSVExSZXN1bHQgPSBcInBvc2l0aXZlLWRlc2NlbmRpbmdcIjtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvdXRlckRpdi5zY3JvbGxMZWZ0ID0gMTtcbiAgICAgICAgICAgIGlmIChvdXRlckRpdi5zY3JvbGxMZWZ0ID09PSAwKSAkY2U0MTVkYzY3MzE0Yjc1MyR2YXIkY2FjaGVkUlRMUmVzdWx0ID0gXCJuZWdhdGl2ZVwiO1xuICAgICAgICAgICAgZWxzZSAkY2U0MTVkYzY3MzE0Yjc1MyR2YXIkY2FjaGVkUlRMUmVzdWx0ID0gXCJwb3NpdGl2ZS1hc2NlbmRpbmdcIjtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG91dGVyRGl2KTtcbiAgICAgICAgcmV0dXJuICRjZTQxNWRjNjczMTRiNzUzJHZhciRjYWNoZWRSVExSZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiAkY2U0MTVkYzY3MzE0Yjc1MyR2YXIkY2FjaGVkUlRMUmVzdWx0O1xufVxuZnVuY3Rpb24gJGNlNDE1ZGM2NzMxNGI3NTMkZXhwb3J0JDEzODlkMTY4OTUyYjM0YjUobm9kZSwgZGlyZWN0aW9uKSB7XG4gICAgbGV0IHsgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCB9ID0gbm9kZTtcbiAgICAvLyBzY3JvbGxMZWZ0IGluIHJ0bCBsb2NhbGVzIGRpZmZlcnMgYWNyb3NzIGJyb3dzZXJzLCBzbyBub3JtYWxpemUuXG4gICAgLy8gU2VlIGNvbW1lbnQgYnkgZ2V0UlRMT2Zmc2V0VHlwZSBiZWxvdyBmb3IgZGV0YWlscy5cbiAgICBpZiAoZGlyZWN0aW9uID09PSBcInJ0bFwiKSB7XG4gICAgICAgIGxldCB7IHNjcm9sbFdpZHRoOiBzY3JvbGxXaWR0aCwgY2xpZW50V2lkdGg6IGNsaWVudFdpZHRoIH0gPSBub2RlO1xuICAgICAgICBzd2l0Y2goJGNlNDE1ZGM2NzMxNGI3NTMkZXhwb3J0JGZhZjc2MzAyNTdhZDQzMDQoKSl7XG4gICAgICAgICAgICBjYXNlIFwibmVnYXRpdmVcIjpcbiAgICAgICAgICAgICAgICBzY3JvbGxMZWZ0ID0gLXNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicG9zaXRpdmUtZGVzY2VuZGluZ1wiOlxuICAgICAgICAgICAgICAgIHNjcm9sbExlZnQgPSBzY3JvbGxXaWR0aCAtIGNsaWVudFdpZHRoIC0gc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2Nyb2xsTGVmdDtcbn1cbmZ1bmN0aW9uICRjZTQxNWRjNjczMTRiNzUzJGV4cG9ydCRlZDVmZDVmZmU1YWIwYWMobm9kZSwgZGlyZWN0aW9uLCBzY3JvbGxMZWZ0KSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJydGxcIikgc3dpdGNoKCRjZTQxNWRjNjczMTRiNzUzJGV4cG9ydCRmYWY3NjMwMjU3YWQ0MzA0KCkpe1xuICAgICAgICBjYXNlIFwibmVnYXRpdmVcIjpcbiAgICAgICAgICAgIHNjcm9sbExlZnQgPSAtc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicG9zaXRpdmUtYXNjZW5kaW5nXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNsaWVudFdpZHRoOiBjbGllbnRXaWR0aCwgc2Nyb2xsV2lkdGg6IHNjcm9sbFdpZHRoIH0gPSBub2RlO1xuICAgICAgICAgICAgICAgIHNjcm9sbExlZnQgPSBzY3JvbGxXaWR0aCAtIGNsaWVudFdpZHRoIC0gc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgbm9kZS5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbn1cblxuXG5cblxuXG5cbmxldCAkNDRhNmVlNjU3OTI4YjAwMiR2YXIkaXNPbGRSZWFjdCA9ICgwLCAka1NhVjUkcmVhY3QpLnZlcnNpb24uc3RhcnRzV2l0aChcIjE2LlwiKSB8fCAoMCwgJGtTYVY1JHJlYWN0KS52ZXJzaW9uLnN0YXJ0c1dpdGgoXCIxNy5cIik7XG5mdW5jdGlvbiAkNDRhNmVlNjU3OTI4YjAwMiR2YXIkU2Nyb2xsVmlldyhwcm9wcywgcmVmKSB7XG4gICAgbGV0IHsgY29udGVudFNpemU6IGNvbnRlbnRTaXplLCBvblZpc2libGVSZWN0Q2hhbmdlOiBvblZpc2libGVSZWN0Q2hhbmdlLCBjaGlsZHJlbjogY2hpbGRyZW4sIGlubmVyU3R5bGU6IGlubmVyU3R5bGUsIHNpemVUb0ZpdDogc2l6ZVRvRml0LCBvblNjcm9sbFN0YXJ0OiBvblNjcm9sbFN0YXJ0LCBvblNjcm9sbEVuZDogb25TY3JvbGxFbmQsIHNjcm9sbERpcmVjdGlvbjogc2Nyb2xsRGlyZWN0aW9uID0gXCJib3RoXCIsIC4uLm90aGVyUHJvcHMgfSA9IHByb3BzO1xuICAgIGxldCBkZWZhdWx0UmVmID0gKDAsICRrU2FWNSR1c2VSZWYpKCk7XG4gICAgcmVmID0gcmVmIHx8IGRlZmF1bHRSZWY7XG4gICAgbGV0IHN0YXRlID0gKDAsICRrU2FWNSR1c2VSZWYpKHtcbiAgICAgICAgc2Nyb2xsVG9wOiAwLFxuICAgICAgICBzY3JvbGxMZWZ0OiAwLFxuICAgICAgICBzY3JvbGxFbmRUaW1lOiAwLFxuICAgICAgICBzY3JvbGxUaW1lb3V0OiBudWxsLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICBpc1Njcm9sbGluZzogZmFsc2VcbiAgICB9KS5jdXJyZW50O1xuICAgIGxldCB7IGRpcmVjdGlvbjogZGlyZWN0aW9uIH0gPSAoMCwgJGtTYVY1JHVzZUxvY2FsZSkoKTtcbiAgICBsZXQgW2lzU2Nyb2xsaW5nLCBzZXRTY3JvbGxpbmddID0gKDAsICRrU2FWNSR1c2VTdGF0ZSkoZmFsc2UpO1xuICAgIGxldCBvblNjcm9sbCA9ICgwLCAka1NhVjUkdXNlQ2FsbGJhY2spKChlKT0+e1xuICAgICAgICBpZiAoZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCkgcmV0dXJuO1xuICAgICAgICBpZiAocHJvcHMub25TY3JvbGwpIHByb3BzLm9uU2Nyb2xsKGUpO1xuICAgICAgICAoMCwgJGtTYVY1JGZsdXNoU3luYykoKCk9PntcbiAgICAgICAgICAgIGxldCBzY3JvbGxUb3AgPSBlLmN1cnJlbnRUYXJnZXQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgbGV0IHNjcm9sbExlZnQgPSAoMCwgJGNlNDE1ZGM2NzMxNGI3NTMkZXhwb3J0JDEzODlkMTY4OTUyYjM0YjUpKGUuY3VycmVudFRhcmdldCwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgcnViYmVyIGJhbmQgc2Nyb2xsaW5nIGZyb20gc2hha2luZyB3aGVuIHNjcm9sbGluZyBvdXQgb2YgYm91bmRzXG4gICAgICAgICAgICBzdGF0ZS5zY3JvbGxUb3AgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzY3JvbGxUb3AsIGNvbnRlbnRTaXplLmhlaWdodCAtIHN0YXRlLmhlaWdodCkpO1xuICAgICAgICAgICAgc3RhdGUuc2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHNjcm9sbExlZnQsIGNvbnRlbnRTaXplLndpZHRoIC0gc3RhdGUud2lkdGgpKTtcbiAgICAgICAgICAgIG9uVmlzaWJsZVJlY3RDaGFuZ2UobmV3ICgwLCAka1NhVjUkUmVjdCkoc3RhdGUuc2Nyb2xsTGVmdCwgc3RhdGUuc2Nyb2xsVG9wLCBzdGF0ZS53aWR0aCwgc3RhdGUuaGVpZ2h0KSk7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzU2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuaXNTY3JvbGxpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNldFNjcm9sbGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAob25TY3JvbGxTdGFydCkgb25TY3JvbGxTdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU28gd2UgZG9uJ3QgY29uc3RhbnRseSBjYWxsIGNsZWFyVGltZW91dCBhbmQgc2V0VGltZW91dCxcbiAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIGN1cnJlbnQgdGltZW91dCB0aW1lIGFuZCBvbmx5IHJlc2NoZWR1bGVcbiAgICAgICAgICAgIC8vIHRoZSB0aW1lciB3aGVuIGl0IGlzIGdldHRpbmcgY2xvc2UuXG4gICAgICAgICAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5zY3JvbGxFbmRUaW1lIDw9IG5vdyArIDUwKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuc2Nyb2xsRW5kVGltZSA9IG5vdyArIDMwMDtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc3RhdGUuc2Nyb2xsVGltZW91dCk7XG4gICAgICAgICAgICAgICAgc3RhdGUuc2Nyb2xsVGltZW91dCA9IHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuaXNTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2Nyb2xsaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuc2Nyb2xsVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvblNjcm9sbEVuZCkgb25TY3JvbGxFbmQoKTtcbiAgICAgICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LCBbXG4gICAgICAgIHByb3BzLFxuICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBjb250ZW50U2l6ZSxcbiAgICAgICAgb25WaXNpYmxlUmVjdENoYW5nZSxcbiAgICAgICAgb25TY3JvbGxTdGFydCxcbiAgICAgICAgb25TY3JvbGxFbmRcbiAgICBdKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYXJyb3ctYm9keS1zdHlsZVxuICAgICgwLCAka1NhVjUkdXNlRWZmZWN0KSgoKT0+e1xuICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChzdGF0ZS5zY3JvbGxUaW1lb3V0KTtcbiAgICAgICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgfSwgW10pO1xuICAgIGxldCB1cGRhdGVTaXplID0gKDAsICRrU2FWNSR1c2VDYWxsYmFjaykoKCk9PntcbiAgICAgICAgbGV0IGRvbSA9IHJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWRvbSkgcmV0dXJuO1xuICAgICAgICBsZXQgdyA9IGRvbS5jbGllbnRXaWR0aDtcbiAgICAgICAgbGV0IGggPSBkb20uY2xpZW50SGVpZ2h0O1xuICAgICAgICBpZiAoc2l6ZVRvRml0ICYmIGNvbnRlbnRTaXplLndpZHRoID4gMCAmJiBjb250ZW50U2l6ZS5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICBpZiAoc2l6ZVRvRml0ID09PSBcIndpZHRoXCIpIHcgPSBNYXRoLm1pbih3LCBjb250ZW50U2l6ZS53aWR0aCk7XG4gICAgICAgICAgICBlbHNlIGlmIChzaXplVG9GaXQgPT09IFwiaGVpZ2h0XCIpIGggPSBNYXRoLm1pbihoLCBjb250ZW50U2l6ZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS53aWR0aCAhPT0gdyB8fCBzdGF0ZS5oZWlnaHQgIT09IGgpIHtcbiAgICAgICAgICAgIHN0YXRlLndpZHRoID0gdztcbiAgICAgICAgICAgIHN0YXRlLmhlaWdodCA9IGg7XG4gICAgICAgICAgICBvblZpc2libGVSZWN0Q2hhbmdlKG5ldyAoMCwgJGtTYVY1JFJlY3QpKHN0YXRlLnNjcm9sbExlZnQsIHN0YXRlLnNjcm9sbFRvcCwgdywgaCkpO1xuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICBvblZpc2libGVSZWN0Q2hhbmdlLFxuICAgICAgICByZWYsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBzaXplVG9GaXQsXG4gICAgICAgIGNvbnRlbnRTaXplXG4gICAgXSk7XG4gICAgKDAsICRrU2FWNSR1c2VMYXlvdXRFZmZlY3QpKCgpPT57XG4gICAgICAgIHVwZGF0ZVNpemUoKTtcbiAgICB9LCBbXG4gICAgICAgIHVwZGF0ZVNpemVcbiAgICBdKTtcbiAgICBsZXQgcmFmID0gKDAsICRrU2FWNSR1c2VSZWYpKCk7XG4gICAgbGV0IG9uUmVzaXplID0gKCk9PntcbiAgICAgICAgdmFyIF9yYWY7XG4gICAgICAgIHZhciBfY3VycmVudDtcbiAgICAgICAgaWYgKCQ0NGE2ZWU2NTc5MjhiMDAyJHZhciRpc09sZFJlYWN0KSAoX2N1cnJlbnQgPSAoX3JhZiA9IHJhZikuY3VycmVudCkgIT09IG51bGwgJiYgX2N1cnJlbnQgIT09IHZvaWQgMCA/IF9jdXJyZW50IDogX3JhZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57XG4gICAgICAgICAgICB1cGRhdGVTaXplKCk7XG4gICAgICAgICAgICByYWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgICBlbHNlIHVwZGF0ZVNpemUoKTtcbiAgICB9O1xuICAgICgwLCAka1NhVjUkdXNlUmVzaXplT2JzZXJ2ZXIpKHtcbiAgICAgICAgcmVmOiByZWYsXG4gICAgICAgIG9uUmVzaXplOiBvblJlc2l6ZVxuICAgIH0pO1xuICAgICgwLCAka1NhVjUkdXNlRWZmZWN0KSgoKT0+e1xuICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgIGlmIChyYWYuY3VycmVudCkgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmLmN1cnJlbnQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICBsZXQgc3R5bGUgPSB7XG4gICAgICAgIC8vIFJlc2V0IHBhZGRpbmcgc28gdGhhdCByZWxhdGl2ZSBwb3NpdGlvbmluZyB3b3JrcyBjb3JyZWN0bHkuIFBhZGRpbmcgd2lsbCBiZSBkb25lIGluIEpTIGxheW91dC5cbiAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgLi4ub3RoZXJQcm9wcy5zdHlsZVxuICAgIH07XG4gICAgaWYgKHNjcm9sbERpcmVjdGlvbiA9PT0gXCJob3Jpem9udGFsXCIpIHtcbiAgICAgICAgc3R5bGUub3ZlcmZsb3dYID0gXCJhdXRvXCI7XG4gICAgICAgIHN0eWxlLm92ZXJmbG93WSA9IFwiaGlkZGVuXCI7XG4gICAgfSBlbHNlIGlmIChzY3JvbGxEaXJlY3Rpb24gPT09IFwidmVydGljYWxcIiB8fCBjb250ZW50U2l6ZS53aWR0aCA9PT0gc3RhdGUud2lkdGgpIHtcbiAgICAgICAgLy8gU2V0IG92ZXJmbG93LXg6IGhpZGRlbiBpZiBjb250ZW50IHNpemUgaXMgZXF1YWwgdG8gdGhlIHdpZHRoIG9mIHRoZSBzY3JvbGwgdmlldy5cbiAgICAgICAgLy8gVGhpcyBwcmV2ZW50cyBob3Jpem9udGFsIHNjcm9sbGJhcnMgZnJvbSBmbGlja2VyaW5nIGR1cmluZyByZXNpemluZyBkdWUgdG8gcmVzaXplIG9ic2VydmVyXG4gICAgICAgIC8vIGZpcmluZyBzbG93ZXIgdGhhbiB0aGUgZnJhbWUgcmF0ZSwgd2hpY2ggbWF5IGNhdXNlIGFuIGluZmluaXRlIHJlLXJlbmRlciBsb29wLlxuICAgICAgICBzdHlsZS5vdmVyZmxvd1kgPSBcImF1dG9cIjtcbiAgICAgICAgc3R5bGUub3ZlcmZsb3dYID0gXCJoaWRkZW5cIjtcbiAgICB9IGVsc2Ugc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcbiAgICBpbm5lclN0eWxlID0ge1xuICAgICAgICB3aWR0aDogY29udGVudFNpemUud2lkdGgsXG4gICAgICAgIGhlaWdodDogY29udGVudFNpemUuaGVpZ2h0LFxuICAgICAgICBwb2ludGVyRXZlbnRzOiBpc1Njcm9sbGluZyA/IFwibm9uZVwiIDogXCJhdXRvXCIsXG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgIC4uLmlubmVyU3R5bGVcbiAgICB9O1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovICgwLCAka1NhVjUkcmVhY3QpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAuLi5vdGhlclByb3BzLFxuICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgIHJlZjogcmVmLFxuICAgICAgICBvblNjcm9sbDogb25TY3JvbGxcbiAgICB9LCAvKiNfX1BVUkVfXyovICgwLCAka1NhVjUkcmVhY3QpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICByb2xlOiBcInByZXNlbnRhdGlvblwiLFxuICAgICAgICBzdHlsZTogaW5uZXJTdHlsZVxuICAgIH0sIGNoaWxkcmVuKSk7XG59XG5jb25zdCAkNDRhNmVlNjU3OTI4YjAwMiRleHBvcnQkNTY2NWUzZDZiZTZhZGVhID0gLyojX19QVVJFX18qLyAoMCwgJGtTYVY1JHJlYWN0KS5mb3J3YXJkUmVmKCQ0NGE2ZWU2NTc5MjhiMDAyJHZhciRTY3JvbGxWaWV3KTtcblxuXG4vKlxuICogQ29weXJpZ2h0IDIwMjAgQWRvYmUuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGZpbGUgaXMgbGljZW5zZWQgdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weVxuICogb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlclxuICogdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgUkVQUkVTRU5UQVRJT05TXG4gKiBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2VcbiAqIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gXG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBBZG9iZS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgZmlsZSBpcyBsaWNlbnNlZCB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5XG4gKiBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyXG4gKiB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBSRVBSRVNFTlRBVElPTlNcbiAqIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZVxuICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBcblxuXG5mdW5jdGlvbiAkNDc3MzZjMWU2M2JhMWM2ZCRleHBvcnQkMWRhNzgxNzc4MjA3ZTBhMihvcHRpb25zKSB7XG4gICAgbGV0IHsgbGF5b3V0SW5mbzogbGF5b3V0SW5mbywgdmlydHVhbGl6ZXI6IHZpcnR1YWxpemVyLCByZWY6IHJlZiB9ID0gb3B0aW9ucztcbiAgICBsZXQgdXBkYXRlU2l6ZSA9ICgwLCAka1NhVjUkdXNlQ2FsbGJhY2spKCgpPT57XG4gICAgICAgIGxldCBzaXplID0gJDQ3NzM2YzFlNjNiYTFjNmQkdmFyJGdldFNpemUocmVmLmN1cnJlbnQpO1xuICAgICAgICB2aXJ0dWFsaXplci51cGRhdGVJdGVtU2l6ZShsYXlvdXRJbmZvLmtleSwgc2l6ZSk7XG4gICAgfSwgW1xuICAgICAgICB2aXJ0dWFsaXplcixcbiAgICAgICAgbGF5b3V0SW5mby5rZXksXG4gICAgICAgIHJlZlxuICAgIF0pO1xuICAgICgwLCAka1NhVjUkdXNlTGF5b3V0RWZmZWN0KSgoKT0+e1xuICAgICAgICBpZiAobGF5b3V0SW5mby5lc3RpbWF0ZWRTaXplKSB1cGRhdGVTaXplKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXBkYXRlU2l6ZTogdXBkYXRlU2l6ZVxuICAgIH07XG59XG5mdW5jdGlvbiAkNDc3MzZjMWU2M2JhMWM2ZCR2YXIkZ2V0U2l6ZShub2RlKSB7XG4gICAgLy8gUmVzZXQgaGVpZ2h0IGJlZm9yZSBtZWFzdXJpbmcgc28gd2UgZ2V0IHRoZSBpbnRyaW5zaWMgc2l6ZVxuICAgIGxldCBoZWlnaHQgPSBub2RlLnN0eWxlLmhlaWdodDtcbiAgICBub2RlLnN0eWxlLmhlaWdodCA9IFwiXCI7XG4gICAgbGV0IHNpemUgPSBuZXcgKDAsICRrU2FWNSRTaXplKShub2RlLnNjcm9sbFdpZHRoLCBub2RlLnNjcm9sbEhlaWdodCk7XG4gICAgbm9kZS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgcmV0dXJuIHNpemU7XG59XG5cblxuZnVuY3Rpb24gJGNjZjhhMGEwNGU0MTc1YWUkZXhwb3J0JDY3OTZkZjhiYTczOTg1MjEocHJvcHMpIHtcbiAgICBsZXQgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgbGF5b3V0SW5mbzogbGF5b3V0SW5mbywgdmlydHVhbGl6ZXI6IHZpcnR1YWxpemVyLCBwYXJlbnQ6IHBhcmVudCwgY2hpbGRyZW46IGNoaWxkcmVuIH0gPSBwcm9wcztcbiAgICBsZXQgeyBkaXJlY3Rpb246IGRpcmVjdGlvbiB9ID0gKDAsICRrU2FWNSR1c2VMb2NhbGUpKCk7XG4gICAgbGV0IHJlZiA9ICgwLCAka1NhVjUkdXNlUmVmKSgpO1xuICAgICgwLCAkNDc3MzZjMWU2M2JhMWM2ZCRleHBvcnQkMWRhNzgxNzc4MjA3ZTBhMikoe1xuICAgICAgICBsYXlvdXRJbmZvOiBsYXlvdXRJbmZvLFxuICAgICAgICB2aXJ0dWFsaXplcjogdmlydHVhbGl6ZXIsXG4gICAgICAgIHJlZjogcmVmXG4gICAgfSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gKDAsICRrU2FWNSRyZWFjdCkuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsXG4gICAgICAgIHJlZjogcmVmLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgc3R5bGU6ICRjY2Y4YTBhMDRlNDE3NWFlJGV4cG9ydCQxNDgxZTY0ZmJlMDFiOGIzKGxheW91dEluZm8sIGRpcmVjdGlvbiwgcGFyZW50KVxuICAgIH0sIGNoaWxkcmVuKTtcbn1cbmxldCAkY2NmOGEwYTA0ZTQxNzVhZSR2YXIkY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gJGNjZjhhMGEwNGU0MTc1YWUkZXhwb3J0JDE0ODFlNjRmYmUwMWI4YjMobGF5b3V0SW5mbywgZGlyLCBwYXJlbnQpIHtcbiAgICBsZXQgeFByb3BlcnR5ID0gZGlyID09PSBcInJ0bFwiID8gXCJyaWdodFwiIDogXCJsZWZ0XCI7XG4gICAgbGV0IGNhY2hlZCA9ICRjY2Y4YTBhMDRlNDE3NWFlJHZhciRjYWNoZS5nZXQobGF5b3V0SW5mbyk7XG4gICAgaWYgKGNhY2hlZCAmJiBjYWNoZWRbeFByb3BlcnR5XSAhPSBudWxsKSB7XG4gICAgICAgIGlmICghcGFyZW50KSByZXR1cm4gY2FjaGVkO1xuICAgICAgICAvLyBJbnZhbGlkYXRlIGlmIHRoZSBwYXJlbnQgcG9zaXRpb24gY2hhbmdlZC5cbiAgICAgICAgbGV0IHRvcCA9IGxheW91dEluZm8ucmVjdC55IC0gcGFyZW50LnJlY3QueTtcbiAgICAgICAgbGV0IHggPSBsYXlvdXRJbmZvLnJlY3QueCAtIHBhcmVudC5yZWN0Lng7XG4gICAgICAgIGlmIChjYWNoZWQudG9wID09PSB0b3AgJiYgY2FjaGVkW3hQcm9wZXJ0eV0gPT09IHgpIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIGxldCBzdHlsZSA9IHtcbiAgICAgICAgcG9zaXRpb246IGxheW91dEluZm8uaXNTdGlja3kgPyBcInN0aWNreVwiIDogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAvLyBTdGlja3kgZWxlbWVudHMgYXJlIHBvc2l0aW9uZWQgaW4gbm9ybWFsIGRvY3VtZW50IGZsb3cuIERpc3BsYXkgaW5saW5lLWJsb2NrIHNvIHRoYXQgdGhleSBkb24ndCBwdXNoIG90aGVyIHN0aWNreSBjb2x1bW5zIG9udG8gdGhlIGZvbGxvd2luZyByb3dzLlxuICAgICAgICBkaXNwbGF5OiBsYXlvdXRJbmZvLmlzU3RpY2t5ID8gXCJpbmxpbmUtYmxvY2tcIiA6IHVuZGVmaW5lZCxcbiAgICAgICAgb3ZlcmZsb3c6IGxheW91dEluZm8uYWxsb3dPdmVyZmxvdyA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIixcbiAgICAgICAgdG9wOiBsYXlvdXRJbmZvLnJlY3QueSAtIChwYXJlbnQgPyBwYXJlbnQucmVjdC55IDogMCksXG4gICAgICAgIFt4UHJvcGVydHldOiBsYXlvdXRJbmZvLnJlY3QueCAtIChwYXJlbnQgPyBwYXJlbnQucmVjdC54IDogMCksXG4gICAgICAgIHRyYW5zaXRpb246IFwiYWxsXCIsXG4gICAgICAgIFdlYmtpdFRyYW5zaXRpb246IFwiYWxsXCIsXG4gICAgICAgIFdlYmtpdFRyYW5zaXRpb25EdXJhdGlvbjogXCJpbmhlcml0XCIsXG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogXCJpbmhlcml0XCIsXG4gICAgICAgIHdpZHRoOiBsYXlvdXRJbmZvLnJlY3Qud2lkdGgsXG4gICAgICAgIGhlaWdodDogbGF5b3V0SW5mby5yZWN0LmhlaWdodCxcbiAgICAgICAgb3BhY2l0eTogbGF5b3V0SW5mby5vcGFjaXR5LFxuICAgICAgICB6SW5kZXg6IGxheW91dEluZm8uekluZGV4LFxuICAgICAgICB0cmFuc2Zvcm06IGxheW91dEluZm8udHJhbnNmb3JtLFxuICAgICAgICBjb250YWluOiBcInNpemUgbGF5b3V0IHN0eWxlXCJcbiAgICB9O1xuICAgICRjY2Y4YTBhMDRlNDE3NWFlJHZhciRjYWNoZS5zZXQobGF5b3V0SW5mbywgc3R5bGUpO1xuICAgIHJldHVybiBzdHlsZTtcbn1cblxuXG5mdW5jdGlvbiAkNmQwYTVjMzk0MzczYWU2NCR2YXIkVmlydHVhbGl6ZXIocHJvcHMsIHJlZikge1xuICAgIGxldCB7IGNoaWxkcmVuOiByZW5kZXJWaWV3LCByZW5kZXJXcmFwcGVyOiByZW5kZXJXcmFwcGVyLCBsYXlvdXQ6IGxheW91dCwgY29sbGVjdGlvbjogY29sbGVjdGlvbiwgc2l6ZVRvRml0OiBzaXplVG9GaXQsIHNjcm9sbERpcmVjdGlvbjogc2Nyb2xsRGlyZWN0aW9uLCB0cmFuc2l0aW9uRHVyYXRpb246IHRyYW5zaXRpb25EdXJhdGlvbiwgaXNMb2FkaW5nOiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgaXNMb2FkaW5nLCBvbkxvYWRNb3JlOiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgb25Mb2FkTW9yZSwgZm9jdXNlZEtleTogLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIGZvY3VzZWRLZXksIHNob3VsZFVzZVZpcnR1YWxGb2N1czogLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIHNob3VsZFVzZVZpcnR1YWxGb2N1cywgc2Nyb2xsVG9JdGVtOiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgc2Nyb2xsVG9JdGVtLCBhdXRvRm9jdXM6IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBhdXRvRm9jdXMsIC4uLm90aGVyUHJvcHMgfSA9IHByb3BzO1xuICAgIGxldCBmYWxsYmFja1JlZiA9ICgwLCAka1NhVjUkdXNlUmVmKSgpO1xuICAgIHJlZiA9IHJlZiB8fCBmYWxsYmFja1JlZjtcbiAgICBsZXQgc3RhdGUgPSAoMCwgJGtTYVY1JHVzZVZpcnR1YWxpemVyU3RhdGUpKHtcbiAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiB0cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICAgIGxheW91dDogbGF5b3V0LFxuICAgICAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uLFxuICAgICAgICByZW5kZXJWaWV3OiByZW5kZXJWaWV3LFxuICAgICAgICByZW5kZXJXcmFwcGVyOiByZW5kZXJXcmFwcGVyIHx8ICQ2ZDBhNWMzOTQzNzNhZTY0JHZhciRkZWZhdWx0UmVuZGVyV3JhcHBlcixcbiAgICAgICAgb25WaXNpYmxlUmVjdENoYW5nZSAocmVjdCkge1xuICAgICAgICAgICAgcmVmLmN1cnJlbnQuc2Nyb2xsTGVmdCA9IHJlY3QueDtcbiAgICAgICAgICAgIHJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IHJlY3QueTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGxldCB7IHZpcnR1YWxpemVyUHJvcHM6IHZpcnR1YWxpemVyUHJvcHMsIHNjcm9sbFZpZXdQcm9wczogc2Nyb2xsVmlld1Byb3BzIH0gPSAkNmQwYTVjMzk0MzczYWU2NCRleHBvcnQkZGQ2ZDUyNmQ4OGI1YTEzNyhwcm9wcywgc3RhdGUsIHJlZik7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gKDAsICRrU2FWNSRyZWFjdCkuY3JlYXRlRWxlbWVudCgoMCwgJDQ0YTZlZTY1NzkyOGIwMDIkZXhwb3J0JDU2NjVlM2Q2YmU2YWRlYSksIHtcbiAgICAgICAgLi4uKDAsICRrU2FWNSRtZXJnZVByb3BzKShvdGhlclByb3BzLCB2aXJ0dWFsaXplclByb3BzLCBzY3JvbGxWaWV3UHJvcHMpLFxuICAgICAgICByZWY6IHJlZixcbiAgICAgICAgaW5uZXJTdHlsZTogc3RhdGUuaXNBbmltYXRpbmcgPyB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBgbm9uZSAke3N0YXRlLnZpcnR1YWxpemVyLnRyYW5zaXRpb25EdXJhdGlvbn1tc2BcbiAgICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgY29udGVudFNpemU6IHN0YXRlLmNvbnRlbnRTaXplLFxuICAgICAgICBvblNjcm9sbFN0YXJ0OiBzdGF0ZS5zdGFydFNjcm9sbGluZyxcbiAgICAgICAgb25TY3JvbGxFbmQ6IHN0YXRlLmVuZFNjcm9sbGluZyxcbiAgICAgICAgc2l6ZVRvRml0OiBzaXplVG9GaXQsXG4gICAgICAgIHNjcm9sbERpcmVjdGlvbjogc2Nyb2xsRGlyZWN0aW9uXG4gICAgfSwgc3RhdGUudmlzaWJsZVZpZXdzKTtcbn1cbmZ1bmN0aW9uICQ2ZDBhNWMzOTQzNzNhZTY0JGV4cG9ydCRkZDZkNTI2ZDg4YjVhMTM3KHByb3BzLCBzdGF0ZSwgcmVmKSB7XG4gICAgbGV0IHsgZm9jdXNlZEtleTogZm9jdXNlZEtleSwgc2Nyb2xsVG9JdGVtOiBzY3JvbGxUb0l0ZW0sIHNob3VsZFVzZVZpcnR1YWxGb2N1czogc2hvdWxkVXNlVmlydHVhbEZvY3VzLCBpc0xvYWRpbmc6IGlzTG9hZGluZywgb25Mb2FkTW9yZTogb25Mb2FkTW9yZSB9ID0gcHJvcHM7XG4gICAgbGV0IHsgdmlydHVhbGl6ZXI6IHZpcnR1YWxpemVyIH0gPSBzdGF0ZTtcbiAgICAvLyBTY3JvbGwgdG8gdGhlIGZvY3VzZWRLZXkgd2hlbiBpdCBjaGFuZ2VzLiBBY3R1YWxseSBmb2N1c2luZyB0aGUgZm9jdXNlZEtleVxuICAgIC8vIGlzIHVwIHRvIHRoZSBpbXBsZW1lbnRhdGlvbiB1c2luZyBWaXJ0dWFsaXplciBzaW5jZSB3ZSBkb24ndCBoYXZlIHJlZnNcbiAgICAvLyB0byBhbGwgb2YgdGhlIGl0ZW0gRE9NIG5vZGVzLlxuICAgIGxldCBsYXN0Rm9jdXNlZEtleSA9ICgwLCAka1NhVjUkdXNlUmVmKShudWxsKTtcbiAgICBsZXQgaXNGb2N1c1dpdGhpbiA9ICgwLCAka1NhVjUkdXNlUmVmKShmYWxzZSk7XG4gICAgbGV0IGF1dG9Gb2N1cyA9ICgwLCAka1NhVjUkdXNlUmVmKShwcm9wcy5hdXRvRm9jdXMpO1xuICAgICgwLCAka1NhVjUkdXNlRWZmZWN0KSgoKT0+e1xuICAgICAgICBpZiAodmlydHVhbGl6ZXIudmlzaWJsZVJlY3QuaGVpZ2h0ID09PSAwKSByZXR1cm47XG4gICAgICAgIC8vIE9ubHkgc2Nyb2xsIHRoZSBmb2N1c2VkS2V5IGludG8gdmlldyBpZiB0aGUgbW9kYWxpdHkgaXMgbm90IHBvaW50ZXIgdG8gYXZvaWQganVtcHMgaW4gcG9zaXRpb24gd2hlbiBjbGlja2luZy9wcmVzc2luZyB0YWxsIGl0ZW1zLlxuICAgICAgICBsZXQgbW9kYWxpdHkgPSAoMCwgJGtTYVY1JGdldEludGVyYWN0aW9uTW9kYWxpdHkpKCk7XG4gICAgICAgIGlmIChmb2N1c2VkS2V5ICE9PSBsYXN0Rm9jdXNlZEtleS5jdXJyZW50ICYmIChtb2RhbGl0eSAhPT0gXCJwb2ludGVyXCIgfHwgYXV0b0ZvY3VzLmN1cnJlbnQpKSB7XG4gICAgICAgICAgICBhdXRvRm9jdXMuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHNjcm9sbFRvSXRlbSkgLy8gSWYgdXNlciBwcm92aWRlcyBzY3JvbGx0b2l0ZW0sIHRoZW4gaXQgaXMgdGhlaXIgcmVzcG9uc2liaWxpdHkgdG8gY2FsbCBzY3JvbGxJbnRvVmlld3BvcnQgaWYgZGVzaXJlZFxuICAgICAgICAgICAgLy8gc2luY2Ugd2UgZG9uJ3Qga25vdyBpZiB0aGVpciBzY3JvbGxUb0l0ZW0gbWF5IHRha2Ugc29tZSB0aW1lIHRvIGFjdHVhbGx5IGJyaW5nIHRoZSBhY3RpdmUgZWxlbWVudCBpbnRvIHRoZSB2aXJ0dWFsaXplcidzIHZpc2libGUgcmVjdC5cbiAgICAgICAgICAgIHNjcm9sbFRvSXRlbShmb2N1c2VkS2V5KTtcbiAgICAgICAgICAgIGVsc2UgdmlydHVhbGl6ZXIuc2Nyb2xsVG9JdGVtKGZvY3VzZWRLZXksIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEZvY3VzZWRLZXkuY3VycmVudCA9IGZvY3VzZWRLZXk7XG4gICAgfSwgW1xuICAgICAgICBmb2N1c2VkS2V5LFxuICAgICAgICB2aXJ0dWFsaXplci52aXNpYmxlUmVjdC5oZWlnaHQsXG4gICAgICAgIHZpcnR1YWxpemVyLFxuICAgICAgICBsYXN0Rm9jdXNlZEtleSxcbiAgICAgICAgc2Nyb2xsVG9JdGVtLFxuICAgICAgICByZWZcbiAgICBdKTtcbiAgICAvLyBQZXJzaXN0IHRoZSBmb2N1c2VkS2V5IGFuZCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgcmVtb3ZlZCBmcm9tIHRoZSBET00gd2hlbiBzY3JvbGxlZCBvdXQgb2Ygdmlldy5cbiAgICB2aXJ0dWFsaXplci5wZXJzaXN0ZWRLZXlzID0gKDAsICRrU2FWNSR1c2VNZW1vKSgoKT0+Zm9jdXNlZEtleSA/IG5ldyBTZXQoW1xuICAgICAgICAgICAgZm9jdXNlZEtleVxuICAgICAgICBdKSA6IG5ldyBTZXQoKSwgW1xuICAgICAgICBmb2N1c2VkS2V5XG4gICAgXSk7XG4gICAgbGV0IG9uRm9jdXMgPSAoMCwgJGtTYVY1JHVzZUNhbGxiYWNrKSgoZSk9PntcbiAgICAgICAgLy8gSWYgdGhlIGZvY3VzZWQgaXRlbSBpcyBzY3JvbGxlZCBvdXQgb2YgdmlldyBhbmQgaXMgbm90IGluIHRoZSBET00sIHRoZSBjb2xsZWN0aW9uXG4gICAgICAgIC8vIHdpbGwgaGF2ZSB0YWJJbmRleD17MH0uIFdoZW4gdGFiYmluZyBpbiBmcm9tIG91dHNpZGUsIHNjcm9sbCB0aGUgZm9jdXNlZCBpdGVtIGludG8gdmlldy5cbiAgICAgICAgLy8gSWdub3JlIGZvY3VzIGV2ZW50cyB0aGF0IGJ1YmJsZSB0aHJvdWdoIHBvcnRhbHMgKGUuZy4gZm9jdXMgdGhhdCBoYXBwZW5zIG9uIGEgbWVudSBwb3BvdmVyIGNoaWxkIG9mIHRoZSB2aXJ0dWFsaXplcilcbiAgICAgICAgLy8gRG9uJ3Qgc2Nyb2xsIGZvY3VzZWQga2V5IGludG8gdmlldyBpZiBtb2RhbGl0eSBpcyBwb2ludGVyIHRvIHByZXZlbnQgc3VkZGVuIGp1bXAgaW4gcG9zaXRpb24gKGUuZy4gQ2FyZFZpZXcpLlxuICAgICAgICBsZXQgbW9kYWxpdHkgPSAoMCwgJGtTYVY1JGdldEludGVyYWN0aW9uTW9kYWxpdHkpKCk7XG4gICAgICAgIGlmICghaXNGb2N1c1dpdGhpbi5jdXJyZW50ICYmIHJlZi5jdXJyZW50LmNvbnRhaW5zKGUudGFyZ2V0KSAmJiBtb2RhbGl0eSAhPT0gXCJwb2ludGVyXCIpIHtcbiAgICAgICAgICAgIGlmIChzY3JvbGxUb0l0ZW0pIHNjcm9sbFRvSXRlbShmb2N1c2VkS2V5KTtcbiAgICAgICAgICAgIGVsc2UgdmlydHVhbGl6ZXIuc2Nyb2xsVG9JdGVtKGZvY3VzZWRLZXksIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaXNGb2N1c1dpdGhpbi5jdXJyZW50ID0gZS50YXJnZXQgIT09IHJlZi5jdXJyZW50O1xuICAgIH0sIFtcbiAgICAgICAgcmVmLFxuICAgICAgICB2aXJ0dWFsaXplcixcbiAgICAgICAgZm9jdXNlZEtleSxcbiAgICAgICAgc2Nyb2xsVG9JdGVtXG4gICAgXSk7XG4gICAgbGV0IG9uQmx1ciA9ICgwLCAka1NhVjUkdXNlQ2FsbGJhY2spKChlKT0+e1xuICAgICAgICBpc0ZvY3VzV2l0aGluLmN1cnJlbnQgPSByZWYuY3VycmVudC5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpO1xuICAgIH0sIFtcbiAgICAgICAgcmVmXG4gICAgXSk7XG4gICAgLy8gU2V0IHRhYkluZGV4IHRvIC0xIGlmIHRoZXJlIGlzIGEgZm9jdXNlZCBrZXksIG90aGVyd2lzZSAwIHNvIHRoYXQgdGhlIGNvbGxlY3Rpb25cbiAgICAvLyBpdHNlbGYgaXMgdGFiYmFibGUuIFdoZW4gdGhlIGNvbGxlY3Rpb24gcmVjZWl2ZXMgZm9jdXMsIHdlIHNjcm9sbCB0aGUgZm9jdXNlZCBpdGVtIGJhY2sgaW50b1xuICAgIC8vIHZpZXcsIHdoaWNoIHdpbGwgYWxsb3cgaXQgdG8gYmUgcHJvcGVybHkgZm9jdXNlZC4gSWYgdXNpbmcgdmlydHVhbCBmb2N1cywgZG9uJ3Qgc2V0IGFcbiAgICAvLyB0YWJJbmRleCBhdCBhbGwgc28gdGhhdCBWb2ljZU92ZXIgb24gaU9TIDE0IGRvZXNuJ3QgdHJ5IHRvIG1vdmUgcmVhbCBET00gZm9jdXMgdG8gdGhlIGVsZW1lbnQgYW55d2F5LlxuICAgIGxldCB0YWJJbmRleDtcbiAgICBpZiAoIXNob3VsZFVzZVZpcnR1YWxGb2N1cykge1xuICAgICAgICAvLyBXaGVuIHRoZXJlIGlzIG5vIGZvY3VzZWRLZXkgdGhlIGRlZmF1bHQgdGFiSW5kZXggaXMgMC4gV2UgaW5jbHVkZSBsb2dpYyBmb3IgZW1wdHkgY29sbGVjdGlvbnMgdG9vLlxuICAgICAgICAvLyBGb3IgY29sbGVjdGlvbnMgdGhhdCBhcmUgZW1wdHksIGJ1dCBoYXZlIGEgbGluayBpbiB0aGUgZW1wdHkgY2hpbGRyZW4gd2Ugd2FudCB0byBza2lwIGZvY3VzaW5nIHRoaXNcbiAgICAgICAgLy8gYW5kIGxldCBmb2N1cyBtb3ZlIHRvIHRoZSBsaW5rIHNpbWlsYXIgdG8gbGluayBtb3ZpbmcgdG8gY2hpbGRyZW4uXG4gICAgICAgIHRhYkluZGV4ID0gZm9jdXNlZEtleSAhPSBudWxsID8gLTEgOiAwO1xuICAgICAgICAvLyBJZiB0aGUgY29sbGVjdGlvbiBpcyBlbXB0eSwgd2Ugd2FudCB0aGUgdGFiSW5kZXggcHJvdmlkZWQgZnJvbSBwcm9wcyAoaWYgYW55KVxuICAgICAgICAvLyBzbyB0aGF0IHdlIGhhbmRsZSB3aGVuIHRhYmJhYmxlIGl0ZW1zIGFyZSBhZGRlZCB0byB0aGUgZW1wdHkgc3RhdGUuXG4gICAgICAgIGlmICh2aXJ0dWFsaXplci5jb2xsZWN0aW9uLnNpemUgPT09IDAgJiYgcHJvcHMudGFiSW5kZXggIT0gbnVsbCkgdGFiSW5kZXggPSBwcm9wcy50YWJJbmRleDtcbiAgICB9XG4gICAgLy8gSGFuZGxlIHNjcm9sbGluZywgYW5kIGNhbGwgb25Mb2FkTW9yZSB3aGVuIG5lYXJpbmcgdGhlIGJvdHRvbS5cbiAgICBsZXQgaXNMb2FkaW5nUmVmID0gKDAsICRrU2FWNSR1c2VSZWYpKGlzTG9hZGluZyk7XG4gICAgbGV0IHByZXZQcm9wcyA9ICgwLCAka1NhVjUkdXNlUmVmKShwcm9wcyk7XG4gICAgbGV0IG9uVmlzaWJsZVJlY3RDaGFuZ2UgPSAoMCwgJGtTYVY1JHVzZUNhbGxiYWNrKSgocmVjdCk9PntcbiAgICAgICAgc3RhdGUuc2V0VmlzaWJsZVJlY3QocmVjdCk7XG4gICAgICAgIGlmICghaXNMb2FkaW5nUmVmLmN1cnJlbnQgJiYgb25Mb2FkTW9yZSkge1xuICAgICAgICAgICAgbGV0IHNjcm9sbE9mZnNldCA9IHN0YXRlLnZpcnR1YWxpemVyLmNvbnRlbnRTaXplLmhlaWdodCAtIHJlY3QuaGVpZ2h0ICogMjtcbiAgICAgICAgICAgIGlmIChyZWN0LnkgPiBzY3JvbGxPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBpc0xvYWRpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgb25Mb2FkTW9yZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICBvbkxvYWRNb3JlLFxuICAgICAgICBzdGF0ZVxuICAgIF0pO1xuICAgIGxldCBsYXN0Q29udGVudFNpemUgPSAoMCwgJGtTYVY1JHVzZVJlZikoMCk7XG4gICAgKDAsICRrU2FWNSR1c2VMYXlvdXRFZmZlY3QpKCgpPT57XG4gICAgICAgIC8vIElmIGFuaW1hdGluZywgd2FpdCB1bnRpbCB3ZSdyZSBkb25lLlxuICAgICAgICBpZiAoc3RhdGUuaXNBbmltYXRpbmcpIHJldHVybjtcbiAgICAgICAgLy8gT25seSB1cGRhdGUgaXNMb2FkaW5nUmVmIGlmIHByb3BzIG9iamVjdCBhY3R1YWxseSBjaGFuZ2VkLFxuICAgICAgICAvLyBub3QgaWYgYSBsb2NhbCBzdGF0ZSBjaGFuZ2Ugb2NjdXJyZWQuXG4gICAgICAgIGxldCB3YXNMb2FkaW5nID0gaXNMb2FkaW5nUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChwcm9wcyAhPT0gcHJldlByb3BzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGlzTG9hZGluZ1JlZi5jdXJyZW50ID0gaXNMb2FkaW5nO1xuICAgICAgICAgICAgcHJldlByb3BzLmN1cnJlbnQgPSBwcm9wcztcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2hvdWxkTG9hZE1vcmUgPSAhaXNMb2FkaW5nUmVmLmN1cnJlbnQgJiYgb25Mb2FkTW9yZSAmJiBzdGF0ZS5jb250ZW50U2l6ZS5oZWlnaHQgPiAwICYmIHN0YXRlLmNvbnRlbnRTaXplLmhlaWdodCA8PSBzdGF0ZS52aXJ0dWFsaXplci52aXNpYmxlUmVjdC5oZWlnaHQgJiYgKHdhc0xvYWRpbmcgfHwgc3RhdGUuY29udGVudFNpemUuaGVpZ2h0ICE9PSBsYXN0Q29udGVudFNpemUuY3VycmVudCk7XG4gICAgICAgIGlmIChzaG91bGRMb2FkTW9yZSkge1xuICAgICAgICAgICAgaXNMb2FkaW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgb25Mb2FkTW9yZSgpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RDb250ZW50U2l6ZS5jdXJyZW50ID0gc3RhdGUuY29udGVudFNpemUuaGVpZ2h0O1xuICAgIH0sIFtcbiAgICAgICAgc3RhdGUuY29udGVudFNpemUsXG4gICAgICAgIHN0YXRlLmlzQW5pbWF0aW5nLFxuICAgICAgICBzdGF0ZS52aXJ0dWFsaXplcixcbiAgICAgICAgaXNMb2FkaW5nLFxuICAgICAgICBvbkxvYWRNb3JlLFxuICAgICAgICBwcm9wc1xuICAgIF0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHZpcnR1YWxpemVyUHJvcHM6IHtcbiAgICAgICAgICAgIHRhYkluZGV4OiB0YWJJbmRleCxcbiAgICAgICAgICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgICAgICAgICBvbkJsdXI6IG9uQmx1clxuICAgICAgICB9LFxuICAgICAgICBzY3JvbGxWaWV3UHJvcHM6IHtcbiAgICAgICAgICAgIG9uVmlzaWJsZVJlY3RDaGFuZ2U6IG9uVmlzaWJsZVJlY3RDaGFuZ2VcbiAgICAgICAgfVxuICAgIH07XG59XG4vLyBmb3J3YXJkUmVmIGRvZXNuJ3Qgc3VwcG9ydCBnZW5lcmljIHBhcmFtZXRlcnMsIHNvIGNhc3QgdGhlIHJlc3VsdCB0byB0aGUgY29ycmVjdCB0eXBlXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81ODQ2OTIyOS9yZWFjdC13aXRoLXR5cGVzY3JpcHQtZ2VuZXJpY3Mtd2hpbGUtdXNpbmctcmVhY3QtZm9yd2FyZHJlZlxuY29uc3QgJDZkMGE1YzM5NDM3M2FlNjQkZXhwb3J0JDg5YmU1YTI0M2U1OWM0YjIgPSAvKiNfX1BVUkVfXyovICgwLCAka1NhVjUkcmVhY3QpLmZvcndhcmRSZWYoJDZkMGE1YzM5NDM3M2FlNjQkdmFyJFZpcnR1YWxpemVyKTtcbmZ1bmN0aW9uICQ2ZDBhNWMzOTQzNzNhZTY0JHZhciRkZWZhdWx0UmVuZGVyV3JhcHBlcihwYXJlbnQsIHJldXNhYmxlVmlldykge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovICgwLCAka1NhVjUkcmVhY3QpLmNyZWF0ZUVsZW1lbnQoKDAsICRjY2Y4YTBhMDRlNDE3NWFlJGV4cG9ydCQ2Nzk2ZGY4YmE3Mzk4NTIxKSwge1xuICAgICAgICBrZXk6IHJldXNhYmxlVmlldy5rZXksXG4gICAgICAgIGxheW91dEluZm86IHJldXNhYmxlVmlldy5sYXlvdXRJbmZvLFxuICAgICAgICB2aXJ0dWFsaXplcjogcmV1c2FibGVWaWV3LnZpcnR1YWxpemVyLFxuICAgICAgICBwYXJlbnQ6IHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5sYXlvdXRJbmZvXG4gICAgfSwgcmV1c2FibGVWaWV3LnJlbmRlcmVkKTtcbn1cblxuXG5cblxuXG5cblxuXG5leHBvcnQgeyQ2ZDBhNWMzOTQzNzNhZTY0JGV4cG9ydCRkZDZkNTI2ZDg4YjVhMTM3IGFzIHVzZVZpcnR1YWxpemVyLCAkNmQwYTVjMzk0MzczYWU2NCRleHBvcnQkODliZTVhMjQzZTU5YzRiMiBhcyBWaXJ0dWFsaXplciwgJDQ3NzM2YzFlNjNiYTFjNmQkZXhwb3J0JDFkYTc4MTc3ODIwN2UwYTIgYXMgdXNlVmlydHVhbGl6ZXJJdGVtLCAkY2NmOGEwYTA0ZTQxNzVhZSRleHBvcnQkNjc5NmRmOGJhNzM5ODUyMSBhcyBWaXJ0dWFsaXplckl0ZW0sICRjY2Y4YTBhMDRlNDE3NWFlJGV4cG9ydCQxNDgxZTY0ZmJlMDFiOGIzIGFzIGxheW91dEluZm9Ub1N0eWxlLCAkNDRhNmVlNjU3OTI4YjAwMiRleHBvcnQkNTY2NWUzZDZiZTZhZGVhIGFzIFNjcm9sbFZpZXcsICRjZTQxNWRjNjczMTRiNzUzJGV4cG9ydCRmYWY3NjMwMjU3YWQ0MzA0IGFzIGdldFJUTE9mZnNldFR5cGUsICRjZTQxNWRjNjczMTRiNzUzJGV4cG9ydCQxMzg5ZDE2ODk1MmIzNGI1IGFzIGdldFNjcm9sbExlZnQsICRjZTQxNWRjNjczMTRiNzUzJGV4cG9ydCRlZDVmZDVmZmU1YWIwYWMgYXMgc2V0U2Nyb2xsTGVmdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2R1bGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@react-aria+virtualizer@3.9.10_react-dom@18.2.0_react@18.2.0/node_modules/@react-aria/virtualizer/dist/import.mjs\n");

/***/ })

};
;