"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@urql+exchange-auth@2.1.6_graphql@16.8.1";
exports.ids = ["vendor-chunks/@urql+exchange-auth@2.1.6_graphql@16.8.1"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@urql+exchange-auth@2.1.6_graphql@16.8.1/node_modules/@urql/exchange-auth/dist/urql-exchange-auth.mjs":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@urql+exchange-auth@2.1.6_graphql@16.8.1/node_modules/@urql/exchange-auth/dist/urql-exchange-auth.mjs ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authExchange: () => (/* binding */ authExchange)\n/* harmony export */ });\n/* harmony import */ var wonka__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wonka */ \"(ssr)/./node_modules/.pnpm/wonka@6.3.4/node_modules/wonka/dist/wonka.mjs\");\n/* harmony import */ var _urql_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @urql/core */ \"(ssr)/./node_modules/.pnpm/@urql+core@4.3.0_graphql@16.8.1/node_modules/@urql/core/dist/urql-core.mjs\");\n/* harmony import */ var _urql_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @urql/core */ \"(ssr)/./node_modules/.pnpm/@urql+core@4.3.0_graphql@16.8.1/node_modules/@urql/core/dist/urql-core-chunk.mjs\");\n\n\n\n\nvar addAuthAttemptToOperation = (t, e) => (0,_urql_core__WEBPACK_IMPORTED_MODULE_0__.makeOperation)(t.kind, t, {\n  ...t.context,\n  authAttempt: e\n});\n\nfunction authExchange(s) {\n  return ({client: f, forward: d}) => {\n    var l = new Set;\n    var p = (0,wonka__WEBPACK_IMPORTED_MODULE_1__.makeSubject)();\n    var x = (0,wonka__WEBPACK_IMPORTED_MODULE_1__.makeSubject)();\n    var A = new Map;\n    function flushQueue() {\n      v = void 0;\n      var t = A;\n      A = new Map;\n      t.forEach(p.next);\n    }\n    function errorQueue(t) {\n      v = void 0;\n      var e = A;\n      A = new Map;\n      e.forEach((e => {\n        x.next((0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.b)(e, t));\n      }));\n    }\n    var v;\n    var w = null;\n    return t => {\n      function initAuth() {\n        v = Promise.resolve().then((() => s({\n          mutate(t, n, r) {\n            var u = f.createRequestOperation(\"mutation\", (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.h)(t, n), r);\n            return (0,wonka__WEBPACK_IMPORTED_MODULE_1__.toPromise)((0,wonka__WEBPACK_IMPORTED_MODULE_1__.take)(1)((0,wonka__WEBPACK_IMPORTED_MODULE_1__.filter)((t => t.operation.key === u.key && u.context._instance === t.operation.context._instance))((0,wonka__WEBPACK_IMPORTED_MODULE_1__.onStart)((() => {\n              var t = addAuthToOperation(u);\n              l.add(t.context._instance);\n              p.next(t);\n            }))(E))));\n          },\n          appendHeaders(t, e) {\n            var n = \"function\" == typeof t.context.fetchOptions ? t.context.fetchOptions() : t.context.fetchOptions || {};\n            return (0,_urql_core__WEBPACK_IMPORTED_MODULE_0__.makeOperation)(t.kind, t, {\n              ...t.context,\n              fetchOptions: {\n                ...n,\n                headers: {\n                  ...n.headers,\n                  ...e\n                }\n              }\n            });\n          }\n        }))).then((t => {\n          if (t) {\n            w = t;\n          }\n          flushQueue();\n        })).catch((t => {\n          if (true) {\n            console.warn(\"authExchange()’s initialization function has failed, which is unexpected.\\nIf your initialization function is expected to throw/reject, catch this error and handle it explicitly.\\nUnless this error is handled it’ll be passed onto any `OperationResult` instantly and authExchange() will block further operations and retry.\", t);\n          }\n          errorQueue(t);\n        }));\n      }\n      initAuth();\n      function refreshAuth(t) {\n        A.set(t.key, addAuthAttemptToOperation(t, !0));\n        if (w && !v) {\n          v = w.refreshAuth().then(flushQueue).catch(errorQueue);\n        }\n      }\n      function addAuthToOperation(t) {\n        return w ? w.addAuthToOperation(t) : t;\n      }\n      var h = (0,wonka__WEBPACK_IMPORTED_MODULE_1__.filter)(Boolean)((0,wonka__WEBPACK_IMPORTED_MODULE_1__.map)((t => {\n        if (\"teardown\" === t.kind) {\n          A.delete(t.key);\n          return t;\n        } else if (t.context._instance && l.has(t.context._instance)) {\n          return t;\n        } else if (t.context.authAttempt) {\n          return addAuthToOperation(t);\n        } else if (v || !w) {\n          if (!v) {\n            initAuth();\n          }\n          if (!A.has(t.key)) {\n            A.set(t.key, addAuthAttemptToOperation(t, !1));\n          }\n          return null;\n        } else if (function willAuthError(t) {\n          return !t.context.authAttempt && w && w.willAuthError && w.willAuthError(t);\n        }(t)) {\n          refreshAuth(t);\n          return null;\n        }\n        return addAuthToOperation(addAuthAttemptToOperation(t, !1));\n      }))((0,wonka__WEBPACK_IMPORTED_MODULE_1__.merge)([ p.source, t ])));\n      var E = d(h);\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_1__.merge)([ x.source, (0,wonka__WEBPACK_IMPORTED_MODULE_1__.filter)((t => {\n        if (!l.has(t.operation.context._instance) && t.error && function didAuthError(t) {\n          return w && w.didAuthError && w.didAuthError(t.error, t.operation);\n        }(t) && !t.operation.context.authAttempt) {\n          refreshAuth(t.operation);\n          return !1;\n        }\n        if (l.has(t.operation.context._instance)) {\n          l.delete(t.operation.context._instance);\n        }\n        return !0;\n      }))(E) ]);\n    };\n  };\n}\n\n\n//# sourceMappingURL=urql-exchange-auth.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHVycWwrZXhjaGFuZ2UtYXV0aEAyLjEuNl9ncmFwaHFsQDE2LjguMS9ub2RlX21vZHVsZXMvQHVycWwvZXhjaGFuZ2UtYXV0aC9kaXN0L3VycWwtZXhjaGFuZ2UtYXV0aC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxSDs7QUFFM0I7O0FBRTFGLDBDQUEwQyx5REFBQztBQUMzQztBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLFdBQVcsc0JBQXNCO0FBQ2pDO0FBQ0EsWUFBWSxrREFBQztBQUNiLFlBQVksa0RBQUM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZDQUFDO0FBQ2hCLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCw2Q0FBQztBQUMxRCxtQkFBbUIsZ0RBQUMsQ0FBQywyQ0FBQyxJQUFJLDZDQUFDLDRGQUE0Riw4Q0FBQztBQUN4SDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYO0FBQ0E7QUFDQSxtQkFBbUIseURBQUM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxjQUFjLElBQXFDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2Q0FBQyxVQUFVLDBDQUFDO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sR0FBRyw0Q0FBQztBQUNYO0FBQ0EsYUFBYSw0Q0FBQyxhQUFhLDZDQUFDO0FBQzVCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUV3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL0BrZXlzdGF0aWMvdGVtcGxhdGVzLW5leHRqcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdXJxbCtleGNoYW5nZS1hdXRoQDIuMS42X2dyYXBocWxAMTYuOC4xL25vZGVfbW9kdWxlcy9AdXJxbC9leGNoYW5nZS1hdXRoL2Rpc3QvdXJxbC1leGNoYW5nZS1hdXRoLm1qcz8wNmYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1ha2VTdWJqZWN0IGFzIHQsIGZpbHRlciBhcyBlLCBtYXAgYXMgbiwgbWVyZ2UgYXMgciwgdG9Qcm9taXNlIGFzIG8sIHRha2UgYXMgaSwgb25TdGFydCBhcyBhIH0gZnJvbSBcIndvbmthXCI7XG5cbmltcG9ydCB7IG1ha2VPcGVyYXRpb24gYXMgdSwgY3JlYXRlUmVxdWVzdCBhcyBjLCBtYWtlRXJyb3JSZXN1bHQgYXMgaCB9IGZyb20gXCJAdXJxbC9jb3JlXCI7XG5cbnZhciBhZGRBdXRoQXR0ZW1wdFRvT3BlcmF0aW9uID0gKHQsIGUpID0+IHUodC5raW5kLCB0LCB7XG4gIC4uLnQuY29udGV4dCxcbiAgYXV0aEF0dGVtcHQ6IGVcbn0pO1xuXG5mdW5jdGlvbiBhdXRoRXhjaGFuZ2Uocykge1xuICByZXR1cm4gKHtjbGllbnQ6IGYsIGZvcndhcmQ6IGR9KSA9PiB7XG4gICAgdmFyIGwgPSBuZXcgU2V0O1xuICAgIHZhciBwID0gdCgpO1xuICAgIHZhciB4ID0gdCgpO1xuICAgIHZhciBBID0gbmV3IE1hcDtcbiAgICBmdW5jdGlvbiBmbHVzaFF1ZXVlKCkge1xuICAgICAgdiA9IHZvaWQgMDtcbiAgICAgIHZhciB0ID0gQTtcbiAgICAgIEEgPSBuZXcgTWFwO1xuICAgICAgdC5mb3JFYWNoKHAubmV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVycm9yUXVldWUodCkge1xuICAgICAgdiA9IHZvaWQgMDtcbiAgICAgIHZhciBlID0gQTtcbiAgICAgIEEgPSBuZXcgTWFwO1xuICAgICAgZS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgeC5uZXh0KGgoZSwgdCkpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgICB2YXIgdjtcbiAgICB2YXIgdyA9IG51bGw7XG4gICAgcmV0dXJuIHQgPT4ge1xuICAgICAgZnVuY3Rpb24gaW5pdEF1dGgoKSB7XG4gICAgICAgIHYgPSBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgoKSA9PiBzKHtcbiAgICAgICAgICBtdXRhdGUodCwgbiwgcikge1xuICAgICAgICAgICAgdmFyIHUgPSBmLmNyZWF0ZVJlcXVlc3RPcGVyYXRpb24oXCJtdXRhdGlvblwiLCBjKHQsIG4pLCByKTtcbiAgICAgICAgICAgIHJldHVybiBvKGkoMSkoZSgodCA9PiB0Lm9wZXJhdGlvbi5rZXkgPT09IHUua2V5ICYmIHUuY29udGV4dC5faW5zdGFuY2UgPT09IHQub3BlcmF0aW9uLmNvbnRleHQuX2luc3RhbmNlKSkoYSgoKCkgPT4ge1xuICAgICAgICAgICAgICB2YXIgdCA9IGFkZEF1dGhUb09wZXJhdGlvbih1KTtcbiAgICAgICAgICAgICAgbC5hZGQodC5jb250ZXh0Ll9pbnN0YW5jZSk7XG4gICAgICAgICAgICAgIHAubmV4dCh0KTtcbiAgICAgICAgICAgIH0pKShFKSkpKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFwcGVuZEhlYWRlcnModCwgZSkge1xuICAgICAgICAgICAgdmFyIG4gPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQuY29udGV4dC5mZXRjaE9wdGlvbnMgPyB0LmNvbnRleHQuZmV0Y2hPcHRpb25zKCkgOiB0LmNvbnRleHQuZmV0Y2hPcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgcmV0dXJuIHUodC5raW5kLCB0LCB7XG4gICAgICAgICAgICAgIC4uLnQuY29udGV4dCxcbiAgICAgICAgICAgICAgZmV0Y2hPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgLi4ubixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAuLi5uLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAuLi5lXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKSkudGhlbigodCA9PiB7XG4gICAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgIHcgPSB0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBmbHVzaFF1ZXVlKCk7XG4gICAgICAgIH0pKS5jYXRjaCgodCA9PiB7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiYXV0aEV4Y2hhbmdlKCnigJlzIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIGhhcyBmYWlsZWQsIHdoaWNoIGlzIHVuZXhwZWN0ZWQuXFxuSWYgeW91ciBpbml0aWFsaXphdGlvbiBmdW5jdGlvbiBpcyBleHBlY3RlZCB0byB0aHJvdy9yZWplY3QsIGNhdGNoIHRoaXMgZXJyb3IgYW5kIGhhbmRsZSBpdCBleHBsaWNpdGx5LlxcblVubGVzcyB0aGlzIGVycm9yIGlzIGhhbmRsZWQgaXTigJlsbCBiZSBwYXNzZWQgb250byBhbnkgYE9wZXJhdGlvblJlc3VsdGAgaW5zdGFudGx5IGFuZCBhdXRoRXhjaGFuZ2UoKSB3aWxsIGJsb2NrIGZ1cnRoZXIgb3BlcmF0aW9ucyBhbmQgcmV0cnkuXCIsIHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlcnJvclF1ZXVlKHQpO1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICBpbml0QXV0aCgpO1xuICAgICAgZnVuY3Rpb24gcmVmcmVzaEF1dGgodCkge1xuICAgICAgICBBLnNldCh0LmtleSwgYWRkQXV0aEF0dGVtcHRUb09wZXJhdGlvbih0LCAhMCkpO1xuICAgICAgICBpZiAodyAmJiAhdikge1xuICAgICAgICAgIHYgPSB3LnJlZnJlc2hBdXRoKCkudGhlbihmbHVzaFF1ZXVlKS5jYXRjaChlcnJvclF1ZXVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gYWRkQXV0aFRvT3BlcmF0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHcgPyB3LmFkZEF1dGhUb09wZXJhdGlvbih0KSA6IHQ7XG4gICAgICB9XG4gICAgICB2YXIgaCA9IGUoQm9vbGVhbikobigodCA9PiB7XG4gICAgICAgIGlmIChcInRlYXJkb3duXCIgPT09IHQua2luZCkge1xuICAgICAgICAgIEEuZGVsZXRlKHQua2V5KTtcbiAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfSBlbHNlIGlmICh0LmNvbnRleHQuX2luc3RhbmNlICYmIGwuaGFzKHQuY29udGV4dC5faW5zdGFuY2UpKSB7XG4gICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH0gZWxzZSBpZiAodC5jb250ZXh0LmF1dGhBdHRlbXB0KSB7XG4gICAgICAgICAgcmV0dXJuIGFkZEF1dGhUb09wZXJhdGlvbih0KTtcbiAgICAgICAgfSBlbHNlIGlmICh2IHx8ICF3KSB7XG4gICAgICAgICAgaWYgKCF2KSB7XG4gICAgICAgICAgICBpbml0QXV0aCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIUEuaGFzKHQua2V5KSkge1xuICAgICAgICAgICAgQS5zZXQodC5rZXksIGFkZEF1dGhBdHRlbXB0VG9PcGVyYXRpb24odCwgITEpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZnVuY3Rpb24gd2lsbEF1dGhFcnJvcih0KSB7XG4gICAgICAgICAgcmV0dXJuICF0LmNvbnRleHQuYXV0aEF0dGVtcHQgJiYgdyAmJiB3LndpbGxBdXRoRXJyb3IgJiYgdy53aWxsQXV0aEVycm9yKHQpO1xuICAgICAgICB9KHQpKSB7XG4gICAgICAgICAgcmVmcmVzaEF1dGgodCk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFkZEF1dGhUb09wZXJhdGlvbihhZGRBdXRoQXR0ZW1wdFRvT3BlcmF0aW9uKHQsICExKSk7XG4gICAgICB9KSkocihbIHAuc291cmNlLCB0IF0pKSk7XG4gICAgICB2YXIgRSA9IGQoaCk7XG4gICAgICByZXR1cm4gcihbIHguc291cmNlLCBlKCh0ID0+IHtcbiAgICAgICAgaWYgKCFsLmhhcyh0Lm9wZXJhdGlvbi5jb250ZXh0Ll9pbnN0YW5jZSkgJiYgdC5lcnJvciAmJiBmdW5jdGlvbiBkaWRBdXRoRXJyb3IodCkge1xuICAgICAgICAgIHJldHVybiB3ICYmIHcuZGlkQXV0aEVycm9yICYmIHcuZGlkQXV0aEVycm9yKHQuZXJyb3IsIHQub3BlcmF0aW9uKTtcbiAgICAgICAgfSh0KSAmJiAhdC5vcGVyYXRpb24uY29udGV4dC5hdXRoQXR0ZW1wdCkge1xuICAgICAgICAgIHJlZnJlc2hBdXRoKHQub3BlcmF0aW9uKTtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGwuaGFzKHQub3BlcmF0aW9uLmNvbnRleHQuX2luc3RhbmNlKSkge1xuICAgICAgICAgIGwuZGVsZXRlKHQub3BlcmF0aW9uLmNvbnRleHQuX2luc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9KSkoRSkgXSk7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IHsgYXV0aEV4Y2hhbmdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cnFsLWV4Y2hhbmdlLWF1dGgubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@urql+exchange-auth@2.1.6_graphql@16.8.1/node_modules/@urql/exchange-auth/dist/urql-exchange-auth.mjs\n");

/***/ })

};
;